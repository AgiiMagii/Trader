<UserControl x:Class="Trader.Controls.GameControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Trader.Controls"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
             Loaded="GameControl_OnLoaded">

    <Grid>
        <!-- Augšējā izvēlne, vidus saturs, apakšējais status panelis -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Menu -->
            <RowDefinition Height="*"/>
            <!-- Main content -->
            <RowDefinition Height="Auto"/>
            <!-- Bottom bar -->
        </Grid.RowDefinitions>
        <Grid Grid.Row="1">
            <Image Source="/Controls/Beautiful city.jpeg"
               Stretch="UniformToFill"
               Opacity="0.9"
               Panel.ZIndex="0"/>

            <Rectangle Panel.ZIndex="0">
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="Transparent" Offset="0"/>
                        <GradientStop Color="White" Offset="1"/>
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>
        </Grid>

        <!-- Augšējais menu -->
        <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="1" Padding="1">
            <UniformGrid Grid.Row="0" x:Name="GameMenuGrid" Rows="1" Columns="4" Margin="5">
                <Button Content="Save Game" Style="{StaticResource ButtonStyle1}" Margin="5" Click="SaveButton_Click"/>
                <Button Content="Load Game" Style="{StaticResource ButtonStyle1}" Margin="5"/>
                <Button Content="Settings" Style="{StaticResource ButtonStyle1}" Margin="5"/>
                <Button Content="Go to Main Menu" Style="{StaticResource ButtonStyle1}" Margin="5" Click="BackToMainMenu_Click"/>
            </UniformGrid>
        </Border>

        <!-- Vidus saturs -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <!-- Cities -->
                <ColumnDefinition Width="5*"/>
                <!-- Products -->
                <ColumnDefinition Width="3*"/>
                <!-- Trading -->
            </Grid.ColumnDefinitions>

            <!-- Cities panel -->
            <Border Style="{StaticResource BorderStyle1}">
                <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto" Margin="5">
                    <UniformGrid x:Name="CitiesPanel" Background="#00000000" Columns="1">
                        <Button Content="London" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Riga" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Amsterdam" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="New York" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Berlin" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Milan" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Paris" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Tokyo" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Rome" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                        <Button Content="Sydney" Style="{StaticResource GlassButtonStyle}" Click="CityButton_Click" Margin="2" FontSize="20" Foreground="DarkSlateGray"/>
                </UniformGrid>
            </ScrollViewer>
            </Border>

            <!-- ProductsGrid -->

            <Grid Grid.Column="1" x:Name="ProductsGrid" Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- City label -->
                    <RowDefinition Height="*"/>
                    <!-- Offers ar fonu -->
                </Grid.RowDefinitions>

                <!-- City label -->
                <Label x:Name="CityLabel" Grid.Row="0"
           Content="City"
           FontSize="20"
           HorizontalAlignment="Center"
           Margin="5"/>

                <!-- Fona bilde + pogas -->
                <Grid Grid.Row="1">
                    <!-- Bilde -->
                    

                    <!-- Pogu tīkls pa virsu -->
                    <Grid VerticalAlignment="Bottom" Margin="10">
                        <UniformGrid Rows="2" Columns="3" x:Name="OfferGrid" Margin="10"
                     Panel.ZIndex="1">
                        <Button x:Name="ProductButton1" Tag="btn" Margin="5" 
                    Style="{StaticResource GlassButtonStyle}" FontSize="20"
                    Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity1"/>
                                <Image x:Name="ProductImage1" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice1" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                            <Button x:Name="ProductButton2" Tag="btn" Margin="5" Style="{StaticResource GlassButtonStyle}" FontSize="20" Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity2"/>
                                <Image x:Name="ProductImage2" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice2" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                            <Button x:Name="ProductButton3" Tag="btn" Margin="5" Style="{StaticResource GlassButtonStyle}" FontSize="20" Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity3"/>
                                <Image x:Name="ProductImage3" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice3" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                            <Button x:Name="ProductButton4" Tag="btn" Margin="5" Style="{StaticResource GlassButtonStyle}" FontSize="20" Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity4"/>
                                <Image x:Name="ProductImage4" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice4" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                            <Button x:Name="ProductButton5" Tag="btn" Margin="5" Style="{StaticResource GlassButtonStyle}" FontSize="20" Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity5"/>
                                <Image x:Name="ProductImage5" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice5" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                            <Button x:Name="ProductButton6" Tag="btn" Margin="5" Style="{StaticResource GlassButtonStyle}" FontSize="20" Click="ProductButton_Click">
                            <StackPanel>
                                <TextBlock x:Name="ProductQuantity6"/>
                                <Image x:Name="ProductImage6" Stretch="Uniform" MaxWidth="120" MaxHeight="120"/>
                                <TextBlock x:Name="ProductPrice6" Text="0.00 €" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </UniformGrid>
                    </Grid>
                </Grid>
            </Grid>

            <!-- TradingGrid -->

            <Border Grid.Column="2"
                    Background="#80D3D3D3"
        Margin="5"
        Style="{StaticResource BorderStyle1}">
                <Grid x:Name="TradingGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- Title -->
                        <RowDefinition Height="Auto"/>
                        <!-- Controls -->
                        <RowDefinition Height="Auto"/>
                        <!-- Info -->
                        <RowDefinition Height="*"/>
                        <!-- Big text -->
                        <RowDefinition Height="Auto"/>
                        <!-- Buy/Sell -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" x:Name="lblProductName" Grid.ColumnSpan="3" 
       Content="" FontSize="18"
       HorizontalContentAlignment="Center"/>

                    <!-- +/- buttons -->
                    <Button Grid.Row="1" Grid.Column="0" Style="{StaticResource GlassSmallButton}" Margin="5" Content="−" Click="QuantityButton_Click" Foreground="Black"/>
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="txtQuantity" Text="0" TextAlignment="Center" FontSize="16" Margin="5"/>
                    <Button Grid.Row="1" Grid.Column="2" Style="{StaticResource GlassSmallButton}" Margin="5" Content="+" Click="QuantityButton_Click" Foreground="Black"/>

                    <!-- Info row -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" 
                   x:Name="txtTotalPrice"
                   Text="0.00" FontSize="16" HorizontalAlignment="Center"/>
                    <Button Grid.Row="2" Grid.Column="2" 
                Content="Buy" Style="{StaticResource GlassSmallButton}" Margin="5" Click="BuyButton_Click" Foreground="DarkSlateGray" Height="50" Width="80"/>

                    <!-- Big row -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3" x:Name="txtMessages"
           HorizontalAlignment="Center" VerticalAlignment="Center"/>

                    <!-- Buy/Sell -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" x:Name="totalSellPrice"
                   Text="0.00" FontSize="16" HorizontalAlignment="Center"/>
                    <Button Grid.Row="4" Grid.Column="2" x:Name="buttSell" Click="SellButton_Click"
                Content="Sell" Style="{StaticResource GlassSmallButton}" Margin="5" Foreground="DarkSlateGray" Height="50" Width="80"/>
                </Grid>
            </Border>
        </Grid>

        <!-- Bottom bar -->
        <Border Grid.Row="2" Margin="5" BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" x:Name="productsInventory" Orientation="Horizontal">
                    <StackPanel Orientation="Vertical" Margin="10">
                        <Image x:Name="Product1" Stretch="Uniform" MaxWidth="60" MaxHeight="60" Tag="invImg"/>
                        <TextBlock HorizontalAlignment="Center" Tag="invTxt"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="10">
                        <Image x:Name="Product2" Stretch="Uniform" MaxWidth="60" MaxHeight="60" Tag="invImg"/>
                        <TextBlock HorizontalAlignment="Center" Tag="invTxt"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="10">
                        <Image x:Name="Product3" Stretch="Uniform" MaxWidth="60" MaxHeight="60" Tag="invImg"/>
                        <TextBlock HorizontalAlignment="Center" Tag="invTxt"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="10">
                        <Image x:Name="Product4" Stretch="Uniform" MaxWidth="60" MaxHeight="60" Tag="invImg"/>
                        <TextBlock HorizontalAlignment="Center" Tag="invTxt"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="10">
                        <Image x:Name="Product5" Stretch="Uniform" MaxWidth="60" MaxHeight="60" Tag="invImg"/>
                        <TextBlock HorizontalAlignment="Center" Tag="invTxt"/>
                    </StackPanel>
                </StackPanel>


                <TextBlock Grid.Column="1" x:Name="BalanceBlock" FontWeight="Bold" FontSize="14" Text=""
           VerticalAlignment="Center" HorizontalAlignment="Right" Margin="10,0"/>
            </Grid>
        </Border>
        <Grid x:Name="GameOverOverlay"
              Background="#AA000000" Visibility="Collapsed" Grid.Row="0"
      Grid.RowSpan="3">
            <StackPanel VerticalAlignment="Center"
                        HorizontalAlignment="Center">
                <TextBlock Text="GAME OVER"
                           FontSize="64"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center"/>

                <Button Content="Back to Main Menu"
                        Width="200" Height="50"
                        Click="BackToMainMenu_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>

